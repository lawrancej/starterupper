<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Git and Hosting Setup</title>
  <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <!-- Suppress favicon -->
  <link rel="shortcut icon" href="#" />
  <link rel="stylesheet" href="http://lawrancej.github.io/starterupper/reset.css" />
  <link rel="stylesheet" href="http://lawrancej.github.io/starterupper/text.css" />
  <link rel="stylesheet" href="http://lawrancej.github.io/starterupper/960.css" />
  <style>
  ul { margin-bottom: 0px; }
  .subheading { text-align: right; }
  .error { color:red; }
  .success { color:green; }
  .fail { color:black; }
  header {
    display: block;
    border-bottom: 1px solid lightgray;
    margin-top: 10px;
    margin-bottom: 10px;
    padding-bottom: 5px;
  }
  section { margin-bottom:5px; }
  input[type="text"] { width:200px; }
  input[type="email"] { width:200px; }
  input[type="password"] { width:120px; }
  .js #javascript-warning {display: none;}
  
  /* The script may replace these values */
  .github-two-factor { display: none; }
  .github-email-verified { display: none; }
  .github-upgraded { display: none; }
  .github-profile { display: none; }
  .github-collaborator { display: none; }
  .github-repository { display: none; }
  .github-key { display: none; }
  .github-private { display: none; }
  .git-status { display: none; }
  
  </style>
  <noscript>
    <link rel="stylesheet" href="http://localhost:8080/browser.css" />
    <style>
    /* The server may replace these values */
    .github-authenticated {display: none;}
    </style>
  </noscript>
  <script>
  // Borrowed from Modernizr, switch no-js to js if javascript is available
  document.documentElement.className=document.documentElement.className.replace(/\bno-js\b/,'') + ' js';
  </script>
</head>
<body>
  <article>
    <form method="post" action="/" >
      <!-- The server must replace these values -->
      <input type="hidden" id="repository" value="REPOSITORY" />
      <input type="hidden" id="instructor" value="INSTRUCTOR_GITHUB" />
      <input type="hidden" id="host" value="USER_NAME@HOSTNAME" />
      <input type="hidden" id="public-key" value="PUBLIC_KEY" />
      <input type="hidden" id="stored-email" value="USER_EMAIL" />
      <input type="hidden" id="stored-name" value="FULL_NAME" />
      <input type="hidden" id="stored-github" value="GITHUB_LOGIN" />
      <input type="hidden" id="cloned" value="CLONED" />
      
      <!-- Nag the user if JavaScript is disabled -->
      <section class="container_12" id="javascript-warning">
        <header>
            <div class="grid_12"><i class="fa fa-warning fa-fw fa-lg error"></i>
            <b>JavaScript disabled or unsupported</b>:
            Enable to automate setup</div>
            <div class="clear"></div>
        </header>
        
        <!-- Firefox users -->
        <div class="grid_2 firefox">
            <a href="http://kb.mozillazine.org/About:config"
            target="actionRequired">
                <img src="http://lawrancej.github.io/starterupper/firefox.svg" width="140"
                height="140" title="Firefox" />
            </a>
        </div>
        <div class="grid_10 firefox">
            <b>Firefox users</b>: if you installed NoScript,
            enable (allow or trust) JavaScript
            <ol>
                <li>Otherwise, open a new tab and type <code>about:config</code>
                in the location (address) bar</li>
                <li>Type <code>javascript.enabled</code> in the <b>Search</b> box</li>
                <li>Double-click to set <code>javascript.enabled</code> to <b>true</b></li>
                <li>Reload this page</li>
            </ol>
        </div>
        <div class="clear firefox"></div>
        
        <!-- IE users -->
        <div class="grid_2 subheading msie">
            <img src="http://lawrancej.github.io/starterupper/ie.svg" width="140" height="140"
            title="Internet Explorer" />
        </div>
        <div class="grid_10 msie">
        <!-- IE5 through IE9 -->
        <!--[if lte IE 9]>
            <b>Your browser is obsolete</b>:
            Please <a target="actionRequired"
            href="http://windows.microsoft.com/en-us/internet-explorer/download-ie">upgrade</a>
            first, or install
            <a href="http://www.google.com/chrome/" 
            target="actionRequired">Chrome</a> or 
            <a href="https://www.mozilla.org/en-US/firefox/new/"
            target="actionRequired">Firefox</a> instead<br/><br/>
        <![endif]-->
            If <b>Internet Explorer restricted this webpage from running scripts
            or ActiveX controls</b>, click <b>Allow blocked content</b>
            <ol>
                <li>Otherwise, click <b>Tools</b> and select
                <b>Internet options</b></li>
                <li>Select the <b>Security</b> tab within Internet Options</li>
                <li>Click <b>Custom level...</b></li>
                <li>Scroll until you find the &quot;Scripting&quot; section</li>
                <li>Under &quot;Active Scripting&quot;, click <b>Enable</b></li>
                <li>Click <b>OK</b></li>
                <li>Reload this page</li>
            </ol>
        </div>
        <div class="clear msie"></div>

        <!-- Chrome users -->
        <div class="grid_2 chrome">
            <img src="http://lawrancej.github.io/starterupper/chrome.svg" width="140" height="140" title="Chrome" />
        </div>
        <div class="grid_10 chrome">
            <b>Chrome users</b>: if you installed ScriptSafe or NotScripts,
            enable (allow or trust) JavaScript
            <ol style="margin-bottom: 0px;">
                <li>Otherwise, open a new tab</li>
                <li>Type <code>chrome://settings/content</code> in the location (address) bar</li>
                <li>In the "Javascript" section, select
                <b>Allow all sites to run JavaScript (recommended)</b></li>
                <li>Click <b>Done</b></li>
                <li>Reload this page</li>
            </ol>
        </div>
        <div class="clear chrome"></div>
        
      </section>
      
      <!-- Profile -->
      <section class="container_12">
        <header>
            <div class="grid_6">
                <i class="fa fa-user fa-fw fa-lg"></i>
                <b>Profile</b>:
                Confirm your name, email, and update your photo
            </div>
            <div class="grid_6">
                <i class="fa fa-gear fa-fw fa-lg"></i>
                <b>Accounts</b>:
                Setup accounts on git project hosts for work submission
            </div>
            <div class="clear"></div>
        </header>
        
        <!-- Confirm profile -->
        <div class="grid_2 subheading">
            <a href="https://en.gravatar.com/gravatars/new"
            target="actionRequired"
            title="Update profile photo">
            <img id="visible-gravatar"
            src="http://www.gravatar.com/avatar/EMAIL_HASH?d=retro&s=140"
            title="Update profile photo" alt="Update profile photo" width="140" height="140" />
            </a>
        </div>
        <div class="grid_4">
          <ul class="fa-ul" style="margin-left: 0px;">
            <li>
                <i class="fa fa-li fa-lg fa-user"></i>
                <input id="name" type="text" name="name" value="FULL_NAME"
                placeholder="Full name" pattern="[^ ]+( [^ ]+)+" required
                title="Your full name (first and last name)" autocomplete="on" />
            </li>
            <li>
                <i class="fa fa-li fa-lg fa-envelope"></i>
                <input id="email" type="email" name="email" value="USER_EMAIL"
                placeholder="School email address" required autofocus
                autocomplete="on"
                title="Your school email address (ends with .edu)" />
            </li>
            <li>
                <i class="fa fa-li fa-lg fa-key"></i>
                <input type="text" value="PUBLIC_KEY" readonly
                placeholder="ERROR: Key unset. FIX: ssh-keygen -t rsa" 
                title="Your public SSH key secures connections without passwords" />
            </li>
            <li class="onboard no-gravatar-account">
                <i class="fa fa-li fa-lg fa-gear"></i>
                Setup a Gravatar (profile photo)
            </li>
            <li class="onboard no-gravatar-account">
                <i class="fa fa-li fa-lg fa-user"></i>
                <a href="https://en.gravatar.com/connect/?source=_signup"
                target="actionRequired"
                title="New to Gravatar? Join with your school email">
                    <b>Join Gravatar</b></a> (New users only)
            </li>
            <li class="onboard no-gravatar-account">
                <i class="fa fa-li fa-lg fa-envelope"></i>
                <a href="https://en.gravatar.com/emails/new"
                target="actionRequired"
                title="Already use Gravatar? Add and verify your school email">
                    <b>Add school email</b></a> (Gravatar users)
            </li>
            <li>
                <i class="fa fa-li fa-lg fa-camera"></i>
                <a href="https://en.gravatar.com/gravatars/new"
                target="actionRequired" title="Update profile photo">Update profile photo</a>
            </li>
          </ul>
        </div>
        <div class="grid_2">
            <ul>
                <li>Github</li>
                <li>Gitlab (soon)</li>
                <li>Deveo (soon)</li>
                <li>Bitbucket (soon)</li>
            </ul>
        </div>
        <div class="grid_4">
            <ul class="fa-ul" style="margin-left: 0px;">
                <li class="no-github-authenticated onboard">
                    <i class="fa fa-li fa-lg fa-github"></i>
                    <a href="https://github.com/join" target="actionRequired"
                    title="New to Github? Join with your school email">
                    New users: Join (use your school email)</a>
                </li>
                <li class="github-authenticated login-control">
                    <i class="fa fa-li fa-lg fa-lock github-authenticated"></i>
                    <input type="button" id="github-signout" value="Sign out" />
<!--                    <input type="button" id="github-retry" value="Finish setup" />
-->
                </li>
                <li>
                    <i class="fa-li fa fa-lg fa-check success github-email-verified"></i>
                    <i class="fa-li fa fa-lg fa-envelope fail no-github-email-verified"></i>
                    <a href="https://github.com/settings/emails"
                    target="actionRequired"><span class="github-email-verified">
                    Verified your school email</span><span class="no-github-email-verified">
                    Github users: Add/verify your school email</span></a>
                </li>
                <li>
                    <i class="fa-li fa fa-lg fa-graduation-cap fail no-github-upgraded"></i>
                    <i class="fa-li fa fa-lg fa-check success github-upgraded"></i>
                    <a href="https://education.github.com/discount_requests/new"
                    target="actionRequired"><span class="no-github-upgraded">
                    Request an educational discount</span><span class="github-upgraded">
                    Educational discount approved</span></a>
                </li>
                <li class="no-github-authenticated login-control">
                    <i class="fa fa-li fa-lg fa-unlock no-github-authenticated"></i>
                    <input type="password" id="github-password"
                    placeholder="Github password" pattern=".{7,}"
                    title="Github password (must be 7+ characters)" required />
                    <input type="button" id="github-signin" value="Sign in" 
                    title="Sign in to automate setup steps below" />
                    <br/>
                    <a href="https://github.com/password_reset" target="actionRequired"
                    class="no-github-authenticated" id="github-forgot">Forgot password?</a>
                    
                    <div class="github-two-factor">
                        <input type="text" id="otp" placeholder="Authentication code"
                        pattern="[0-9]{6}" />
                    </div>
                </li>
                <li>
                    <i class="fa-li fa fa-lg fa-user fail no-github-profile"></i>
                    <i class="fa-li fa fa-lg fa-check success github-profile"></i>
                    <a href="https://github.com/settings/profile"
                    target="actionRequired"><span class="no-github-profile">
                    Share your full name</span><span class="github-profile">
                    Shared your full name</span></a>
                </li>
                <li>
                    <i class="fa-li fa fa-lg fa-key fail no-github-key"></i>
                    <i class="fa-li fa fa-lg fa-check success github-key"></i>
                    <a href="https://github.com/settings/ssh"
                    target="actionRequired"><span class="no-github-key">
                    Share your public key</span><span class="github-key">
                    Shared your public key</span></a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
     </section>
     
      <!-- Remote repositories and collaborators -->
      <section class="container_12">
        <header>
          <div class="grid_6">
            <i class="fa fa-code-fork fa-fw fa-lg"></i>
            <b>Remote setup</b>: Configure repositories &amp; collaborators
          </div>
          <div class="grid_6">
<!--
            <span class="fa-stack fa-lg">
                <i class="fa fa-square fa-stack-2x"></i>
                <i class="fa fa-terminal fa-stack-1x fa-inverse"></i>
            </span>
            -->
            <i class="fa fa-desktop fa-lg fa-fw fail no-git-status"></i>
            <i class="fa fa-lg fa-fw fa-check success git-status"></i>
            <b>Local setup</b>: Configure <b>local</b> repository
            (<a href="REPOSITORY" target="_blank"><code>~/REPOSITORY</code></a>)
          </div>
          <div class="clear"></div>
        </header>
        
        <div class="grid_6">
            <ul class="fa-ul" style="margin-left: 0px;">
                <li>
                    <i class="fa-li fa fa-lg fa-check success git-status"></i>
                    <i class="fa-li fa fa-lg fa-book fail no-git-status"></i>
                    <a href="https://github.com/INSTRUCTOR_GITHUB/REPOSITORY"
                    target="_blank">Clone <b>upstream</b> course repository</a> (REPOSITORY)
                </li>
                <li>
                    <i class="fa-li fa fa-lg fa-check success github-repository"></i>
                    <i class="fa-li fa fa-lg fa-database fail no-github-repository"></i>
                    <a target="actionRequired" href="https://github.com/new"
                    class="no-github-repository">
                        Create <b>origin</b> repository</a><a
                    href="https://github.com/GITHUB_LOGIN/REPOSITORY"
                    target="actionRequired"
                    class="origin-href github-repository">
                        Created <b>origin</b> repository</a> <b>REPOSITORY</b>
                        for work submission
                </li>
                <li>
                    <i class="fa-li fa fa-lg fa-check success github-collaborator"></i>
                    <i class="fa-li fa fa-lg fa-users fail no-github-collaborator"></i>
                    <a href="https://github.com/GITHUB_LOGIN/REPOSITORY/settings/collaboration"
                    id="collaborator-href" target="actionRequired">
                    <span class="no-github-collaborator">
                    Add the instructor</span><span
                    class="github-collaborator">Added the instructor</span></a>
                    <b>(INSTRUCTOR_GITHUB)</b> to your repository
                </li>
                <li>
                    <i class="fa-li fa fa-lg fa-check success github-private"></i>
                    <i class="fa-li fa fa-lg fa-eye fail no-github-private"></i>
                    <a target="actionRequired" id="private-href"
                    href="https://github.com/GITHUB_LOGIN/REPOSITORY/settings">
                    <span class="no-github-private">Make repository
                    private</span><span class="github-private">Made repository
                    private</span></a>,
                    so nobody else can see it (scroll to Danger Zone)
                </li>
            </ul>
        </div>
        <div class="grid_6">
            <textarea id="command-line" rows="14" cols="80" readonly>## Configure git
git config --global user.name "FULL_NAME"
git config --global user.email USER_EMAIL
## Clone repository
cd && git clone \
https://github.com/INSTRUCTOR_GITHUB/REPOSITORY.git
cd REPOSITORY
git submodule update --init --recursive
## Configure remote repositories
git remote add upstream \
https://github.com/INSTRUCTOR_GITHUB/REPOSITORY.git
git remote rm origin
git remote add origin \
git@github.com:GITHUB_LOGIN/REPOSITORY.git
## Push to origin
git push -u origin master</textarea>
        </div>
      </section>
      <section class="container_12">
        <hr style="margin-bottom: 10px;"/>
        <div class="grid_12">
          <i class="fa fa-fw fa-lg fa-warning" style="color:red;"></i>
          <b>DO NOT</b> move your local git repository to any folder synchronized
          with Dropbox or Google Drive
        </div>
      </section>
    </form>
  </article>
  <script src="http://lawrancej.github.io/starterupper/sparkMD5.js"></script>
  <script src="http://lawrancej.github.io/starterupper/jquery-2.1.1.min.js"></script>
  <script src="http://lawrancej.github.io/starterupper/github.js"></script>
  <script src="http://lawrancej.github.io/starterupper/ui.js"></script>
</body>
</html>